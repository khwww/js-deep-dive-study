# 26. ES6 í•¨ìˆ˜ì˜ ì¶”ê°€ ê¸°ëŠ¥

## 26.1 í•¨ìˆ˜ì˜ êµ¬ë¶„

#### 26-01

```javascript
var foo = function () {
  return 1;
};

// ì¼ë°˜ì ì¸ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
foo(); // -> 1

// ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
new foo(); // -> foo {}

// ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ
var obj = { foo: foo };
obj.foo(); // -> 1
```

**ES6 ì´ì „ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¬¼ë¡  ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.**

#### 26-02

```javascript
var foo = function () {};

// ES6 ì´ì „ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” callableì´ë©´ì„œ constructorë‹¤.
foo(); // -> undefined
new foo(); // -> foo {}
```

**callableê³¼ constructor/non-constructor**
17.2.4ì ˆ "ë‚´ë¶€ ë©”ì„œë“œ[[Call]]ê³¼ [[Constructor]]"ì—ì„œ ì‚´í´ë³´ì•˜ë“¯ì´ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ callableì´ë¼ í•˜ë©°, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ constructor, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ëŠ” í•¨ìˆ˜ ê°ì²´ë¥¼ non-constructorë¼ê³  ë¶€ë¥¸ë‹¤.

#### 26-03

```javascript
// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ëŠ” callableì´ë©° constructorë‹¤.
var obj = {
  x: 10,
  f: function () {
    return this.x;
  },
};

// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ë©”ì„œë“œë¡œì„œ í˜¸ì¶œ
console.log(obj.f()); // 10

// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
var bar = obj.f;
console.log(bar()); // undefined

// í”„ë¡œí¼í‹° fì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ë¥¼ ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œ
console.log(new obj.f()); // f {}
```

#### 26-04

```javascript
// ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜ map. ì½œë°± í•¨ìˆ˜ë„ constructorì´ë©° í”„ë¡œí† íƒ€ì…ì„ ìƒì„±í•œë‹¤.
[1, 2, 3].map(function (item) {
  return item * 2;
}); // -> [ 2, 4, 6 ]
```

| ES6 í•¨ìˆ˜ì˜ êµ¬ë¶„    | constructor | prototype | super | arguments |
| ------------------ | ----------- | --------- | ----- | --------- |
| ì¼ë°˜ í•¨ìˆ˜(Normal)  | ğŸŸ¢          | ğŸŸ¢        | âŒ    | ğŸŸ¢        |
| ë©”ì„œë“œ(Method)     | âŒ          | âŒ        | ğŸŸ¢    | ğŸŸ¢        |
| í™”ì‚´í‘œ í•¨ìˆ˜(Arrow) | âŒ          | âŒ        | âŒ    | âŒ        |

## 26.2 ë©”ì„œë“œ

**ES6 ì‚¬ì–‘ì—ì„œ ë©”ì„œë“œëŠ” ë©”ì„œë“œ ì¶•ì•½ í¬í˜„ìœ¼ë¡œ ì •ì˜ëœ í•¨ìˆ˜ë§Œì„ ì˜ë¯¸í•œë‹¤.**

#### 26-05

```javascript
const obj = {
  x: 1,
  // fooëŠ” ë©”ì„œë“œì´ë‹¤.
  foo() {
    return this.x;
  },
  // barì— ë°”ì¸ë”©ëœ í•¨ìˆ˜ëŠ” ë©”ì„œë“œê°€ ì•„ë‹Œ ì¼ë°˜ í•¨ìˆ˜ì´ë‹¤.
  bar: function () {
    return this.x;
  },
};

console.log(obj.foo()); // 1
console.log(obj.bar()); // 1
```

**ES6 ì‚¬ì–‘ì—ì„œ ì •ì˜í•œ ë©”ì„œë“œ(ì´í•˜ ES6 ë©”ì„œë“œ)ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ëŠ” non-constructorë‹¤.**

#### 26-06

```javascript
new obj.foo(); // -> TypeError: obj.foo is not a constructor
new obj.bar(); // -> bar {}
```

#### 26-07

```javascript
// obj.fooëŠ” constructorê°€ ì•„ë‹Œ ES6 ë©”ì„œë“œì´ë¯€ë¡œ prototype í”„ë¡œí¼í‹°ê°€ ì—†ë‹¤.
obj.foo.hasOwnProperty("prototype"); // -> false

// obj.barëŠ” constructorì¸ ì¼ë°˜ í•¨ìˆ˜ì´ë¯€ë¡œ prototype í”„ë¡œí¼í‹°ê°€ ìˆë‹¤.
obj.bar.hasOwnProperty("prototype"); // -> true
```

#### 26-08

```javascript
String.prototype.toUpperCase.prototype; // -> undefined
String.fromCharCode.prototype; // -> undefined

Number.prototype.toFixed.prototype; // -> undefined
Number.isFinite.prototype; // -> undefined

Array.prototype.map.prototype; // -> undefined
Array.from.prototype; // -> undefined
```

**ES6 ë©”ì„œë“œëŠ” ìì‹ ì„ ë°”ì¸ë”©í•œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ë‚´ë¶€ ìŠ¬ë¡¯ [[HomeObject]]ë¥¼ ê°–ëŠ”ë‹¤.**

#### 26-09

```javascript
const base = {
  name: "Lee",
  sayHi() {
    return `Hi! ${this.name}`;
  },
};

const derived = {
  __proto__: base,
  // sayHiëŠ” ES6 ë©”ì„œë“œë‹¤. ES6 ë©”ì„œë“œëŠ” [[HomeObject]]ë¥¼ ê°–ëŠ”ë‹¤.
  // sayHiì˜ [[HomeObject]]ëŠ” sayHiê°€ ë°”ì¸ë”©ëœ ê°ì²´ì¸ derivedë¥¼ ê°€ë¦¬í‚¤ê³ 
  // superëŠ” sayHiì˜ [[HomeObject]]ì˜ í”„ë¡œí† íƒ€ì…ì¸ baseë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  sayHi() {
    return `${super.sayHi()}. how are you doing?`;
  },
};

console.log(derived.sayHi()); // Hi! Lee. how are you doing?
```

#### 26-10

```javascript
const derived = {
  __proto__: base,
  // sayHiëŠ” ES6 ë©”ì„œë“œê°€ ì•„ë‹ˆë‹¤.
  // ë”°ë¼ì„œ sayHiëŠ” [[HomeObject]]ë¥¼ ê°–ì§€ ì•Šìœ¼ë¯€ë¡œ super í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
  sayHi: function () {
    // SyntaxError: 'super' keyword unexpected here
    return `${super.sayHi()}. how are you doing?`;
  },
};
```

## 26.3 í™”ì‚´í‘œ í•¨ìˆ˜

### 26.3.1 í™”ì‚´í‘œ í•¨ìˆ˜ ì •ì˜

**í•¨ìˆ˜ ì •ì˜**

#### 26-11

```javascript
const multiply = (x, y) => x * y;
multiply(2, 3); // -> 6
```

**ë§¤ê°œë³€ìˆ˜ ì„ ì–¸**

#### 26-12

```javascript
const arrow = (x, y) => { ... };
```

#### 26-13

```javascript
const arrow = x => { ... };
```

#### 26-14

```javascript
const arrow = () => { ... };
```

**í•¨ìˆ˜ ëª¸ì²´ ì •ì˜**

#### 26-15

```javascript
// concise body
const power = (x) => x ** 2;
power(2); // -> 4

// ìœ„ í‘œí˜„ì€ ë‹¤ìŒê³¼ ë™ì¼í•˜ë‹¤.
// block body
const power = (x) => {
  return x ** 2;
};
```

#### 26-16

```javascript
const arrow = () => const x = 1; // SyntaxError: Unexpected token 'const'

// ìœ„ í‘œí˜„ì€ ë‹¤ìŒê³¼ ê°™ì´ í•´ì„ëœë‹¤.
const arrow = () => { return const x = 1; };
```

#### 26-17

```javascript
const arrow = () => {
  const x = 1;
};
```

#### 26-18

```javascript
const create = (id, content) => ({ id, content });
create(1, "JavaScript"); // -> {id: 1, content: "JavaScript"}

// ìœ„ í‘œí˜„ì€ ë‹¤ìŒê³¼ ë™ì¼í•˜ë‹¤.
const create = (id, content) => {
  return { id, content };
};
```

#### 26-19

```javascript
// { id, content }ë¥¼ í•¨ìˆ˜ ëª¸ì²´ ë‚´ì˜ ì‰¼í‘œ ì—°ì‚°ìë¬¸ìœ¼ë¡œ í•´ì„í•œë‹¤.
const create = (id, content) => {
  id, content;
};
create(1, "JavaScript"); // -> undefined
```

#### 26-20

```javascript
const sum = (a, b) => {
  const result = a + b;
  return result;
};
```

#### 26-21

```javascript
const person = ((name) => ({
  sayHi() {
    return `Hi? My name is ${name}.`;
  },
}))("Lee");

console.log(person.sayHi()); // Hi? My name is Lee.
```

#### 26-22

```javascript
// ES5
[1, 2, 3].map(function (v) {
  return v * 2;
});

// ES6
[1, 2, 3].map((v) => v * 2); // -> [ 2, 4, 6 ]
```

### 26.3.2 í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ì¼ë°˜ í•¨ìˆ˜ì˜ ì°¨ì´

1.  í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ëŠ” non-constructorë‹¤.

#### 26-23

```javascript
const Foo = () => {};
// í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìƒì„±ì í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.
new Foo(); // TypeError: Foo is not a constructor
```

#### 26-24

```javascript
const Foo = () => {};
// í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” prototype í”„ë¡œí¼í‹°ê°€ ì—†ë‹¤.
Foo.hasOwnProperty("prototype"); // -> false
```

2.  ì¤‘ë³µëœ ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì„ ì„ ì–¸í•  ìˆ˜ ì—†ë‹¤.

#### 26-25

```javascript
function normal(a, a) {
  return a + a;
}
console.log(normal(1, 2)); // 4
```

#### 26-26

```javascript
"use strict";

function normal(a, a) {
  return a + a;
}
// SyntaxError: Duplicate parameter name not allowed in this context
```

#### 26-27

```javascript
const arrow = (a, a) => a + a;
// SyntaxError: Duplicate parameter name not allowed in this context
```

3.  í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ this, arguments, super, new, target ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.

### 26.3.3 this

#### 26-28

```javascript
class Prefixer {
  constructor(prefix) {
    this.prefix = prefix;
  }

  add(arr) {
    // add ë©”ì„œë“œëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ ë°°ì—´ arrì„ ìˆœíšŒí•˜ë©° ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œì— prefixë¥¼ ì¶”ê°€í•œë‹¤.
    // â‘ 
    return arr.map(function (item) {
      return this.prefix + item; // â‘¡
      // -> TypeError: Cannot read property 'prefix' of undefined
    });
  }
}

const prefixer = new Prefixer("-webkit-");
console.log(prefixer.add(["transition", "user-select"]));
```

**Array.prototype.map ë©”ì„œë“œ**
ì•„ì§ ì‚´í´ë³´ì§€ ì•Šì•˜ì§€ë§Œ Array.prototype.map ë©”ì„œë“œëŠ” ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•˜ì—¬ ì¸ìˆ˜ë¡œ ì „ë‹¬ëœ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ê·¸ë¦¬ê³  ì½œë°± í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ë“¤ë¡œ êµ¬ì„±ëœ ìƒˆë¡œìš´ ë°°ì—´ì„ ë°˜í™˜í•œë‹¤. ìœ„ ì˜ˆì œì—ì„œ map ë©”ì„œë“œëŠ” ë§¤ê°œë³€ìˆ˜ arrì— ì „ë‹¬ëœ ['transition', 'user-select']ë¥¼ ìˆœíšŒí•˜ë©° ì½œë°± í•¨ìˆ˜ì˜ item ë§¤ê°œë³€ìˆ˜ì—ê²Œ arrì˜ ìš”ì†Œê°’ì„ ì „ë‹¬í•˜ë©´ì„œ ì½œë°± í•¨ìˆ˜ë¥¼ arrì˜ ìš”ì†Œ ê°œìˆ˜ë§Œí¼ í˜¸ì¶œí•œë‹¤. ê·¸ë¦¬ê³  ì½œë™ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ë“¤ë¡œ êµ¬ì„±ëœ ìƒˆë¡œìš´ ë°°ì—´ì„ ë°˜í™˜í•œë‹¤. ì¼ë°˜ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œë˜ëŠ” "ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ this ë¬¸ì œ"ì— ì£¼ëª©í•˜ì.

1.  add ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ prefixer ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” thisë¥¼ ì¼ë‹¨ íšŒí”¼ì‹œí‚¨ í›„ì— ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•œë‹¤.

#### 26-29

```javascript
...
add(arr) {
  // thisë¥¼ ì¼ë‹¨ íšŒí”¼ì‹œí‚¨ë‹¤.
  const that = this;
  return arr.map(function (item) {
    // this ëŒ€ì‹  thatì„ ì°¸ì¡°í•œë‹¤.
    return that.prefix + ' ' + item;
  });
}
...
```

2.  Array.prototype.mapì˜ ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ add ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ prefixer ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” thisë¥¼ ì „ë‹¬í•œë‹¤.

#### 26-30

```javascript
...
add(arr) {
  return arr.map(function (item) {
    return this.prefix + ' ' + item;
  }, this); // thisì— ë°”ì¸ë”©ëœ ê°’ì´ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì— ë°”ì¸ë”©ëœë‹¤.
}
...
```

3.  Function.prototype.bind ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ add ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ prefixer ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” thisë¥¼ ë°”ì¸ë”©í•œë‹¤.

#### 26-31

```javascript
...
add(arr) {
  return arr.map(function (item) {
    return this.prefix + ' ' + item;
  }.bind(this)); // thisì— ë°”ì¸ë”©ëœ ê°’ì´ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì˜ thisì— ë°”ì¸ë”©ëœë‹¤.
}
...
```

#### 26-32

```javascript
class Prefixer {
  constructor(prefix) {
    this.prefix = prefix;
  }

  add(arr) {
    return arr.map((item) => this.prefix + item);
  }
}

const prefixer = new Prefixer("-webkit-");
console.log(prefixer.add(["transition", "user-select"]));
// ['-webkit-transition', '-webkit-user-select']
```

**í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ this ë°”ì¸ë”©ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ thisë¥¼ ì°¸ì¡°í•˜ë©´ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê·¸ëŒ€ë¡œ ì°¸ì¡°í•œë‹¤. ì´ë¥¼ lexical thisë¼ í•œë‹¤.**

#### 26-33

```javascript
// í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ì°¸ì¡°í•œë‹¤.
() => this.x;

// ìµëª… í•¨ìˆ˜ì— ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ì£¼ì…í•œë‹¤. ìœ„ í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.
(function () {
  return this.x;
}).bind(this);
```

#### 26-34

```javascript
// ì¤‘ì²© í•¨ìˆ˜ fooì˜ ìƒìœ„ ìŠ¤ì½”í”„ëŠ” ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ë‹¤.
// ë”°ë¼ì„œ í™”ì‚´í‘œ í•¨ìˆ˜ fooì˜ thisëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ thisë¥¼ ê°€ë¦¬í‚¨ë‹¤.
(function () {
  const foo = () => console.log(this);
  foo();
}).call({ a: 1 }); // { a: 1 }

// bar í•¨ìˆ˜ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤.
// bar í•¨ìˆ˜ê°€ ë°˜í™˜í•œ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ìƒìœ„ ìŠ¤ì½”í”„ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ barë‹¤.
// í•˜ì§€ë§Œ í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ìì²´ì˜ this ë°”ì¸ë”©ì„ ê°–ì§€ ì•Šìœ¼ë¯€ë¡œ bar í•¨ìˆ˜ê°€ ë°˜í™˜í•œ
// í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì°¸ì¡°í•˜ëŠ” thisëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ê°€ ì•„ë‹Œ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ thisë¥¼ ê°€ë¦¬í‚¨ë‹¤.
(function () {
  const bar = () => () => console.log(this);
  bar()();
}).call({ a: 1 }); // { a: 1 }
```

#### 26-35

```javascript
// ì „ì—­ í•¨ìˆ˜ fooì˜ ìƒìœ„ ìŠ¤ì½”í”„ëŠ” ì „ì—­ì´ë¯€ë¡œ í™”ì‚´í‘œ í•¨ìˆ˜ fooì˜ thisëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
const foo = () => console.log(this);
foo(); // window
```

#### 26-36

```javascript
// increase í”„ë¡œí¼í‹°ì— í• ë‹¹í•œ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ìƒìœ„ ìŠ¤ì½”í”„ëŠ” ì „ì—­ì´ë‹¤.
// ë”°ë¼ì„œ increase í”„ë¡œí¼í‹°ì— í• ë‹¹í•œ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
const counter = {
  num: 1,
  increase: () => ++this.num,
};

console.log(counter.increase()); // NaN
```

#### 26-37

```javascript
window.x = 1;

const normal = function () {
  return this.x;
};
const arrow = () => this.x;

console.log(normal.call({ x: 10 })); // 10
console.log(arrow.call({ x: 10 })); // 1
```

#### 26-38

```javascript
const add = (a, b) => a + b;

console.log(add.call(null, 1, 2)); // 3
console.log(add.apply(null, [1, 2])); // 3
console.log(add.bind(null, 1, 2)()); // 3
```

#### 26-39

```javascript
// Bad
const person = {
  name: "Lee",
  sayHi: () => console.log(`Hi ${this.name}`),
};

// sayHi í”„ë¡œí¼í‹°ì— í• ë‹¹ëœ í™”ì‚´í‘œ í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ ì „ì—­ì˜ thisê°€ ê°€ë¦¬í‚¤ëŠ”
// ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë¯€ë¡œ ì´ ì˜ˆì œë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰í•˜ë©´ this.nameì€ ë¹ˆ ë¬¸ìì—´ì„ ê°–ëŠ”
// window.nameê³¼ ê°™ë‹¤. ì „ì—­ ê°ì²´ windowì—ëŠ” ë¹ŒíŠ¸ì¸ í”„ë¡œí¼í‹° nameì´ ì¡´ì¬í•œë‹¤.
person.sayHi(); // Hi
```

#### 26-40

```javascript
// Good
const person = {
  name: "Lee",
  sayHi() {
    console.log(`Hi ${this.name}`);
  },
};

person.sayHi(); // Hi Lee
```

#### 26-41

```javascript
// Bad
function Person(name) {
  this.name = name;
}

Person.prototype.sayHi = () => console.log(`Hi ${this.name}`);

const person = new Person("Lee");
// ì´ ì˜ˆì œë¥¼ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰í•˜ë©´ this.nameì€ ë¹ˆ ë¬¸ìì—´ì„ ê°–ëŠ” window.nameê³¼ ê°™ë‹¤.
person.sayHi(); // Hi
```

#### 26-42

```javascript
// Good
function Person(name) {
  this.name = name;
}

Person.prototype.sayHi = function () {
  console.log(`Hi ${this.name}`);
};

const person = new Person("Lee");
person.sayHi(); // Hi Lee
```

#### 26-43

```javascript
function Person(name) {
  this.name = name;
}

Person.prototype = {
  // constructor í”„ë¡œí¼í‹°ì™€ ìƒì„±ì í•¨ìˆ˜ ê°„ì˜ ì—°ê²°ì„ ì¬ì„¤ì •
  constructor: Person,
  sayHi() {
    console.log(`Hi ${this.name}`);
  },
};

const person = new Person("Lee");
person.sayHi(); // Hi Lee
```

#### 26-44

```javascript
// Bad
class Person {
  // í´ë˜ìŠ¤ í•„ë“œ ì •ì˜ ì œì•ˆ
  name = "Lee";
  sayHi = () => console.log(`Hi ${this.name}`);
}

const person = new Person();
person.sayHi(); // Hi Lee
```

#### 26-45

```javascript
class Person {
  constructor() {
    this.name = "Lee";
    // í´ë˜ìŠ¤ê°€ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤(this)ì˜ sayHi í”„ë¡œí¼í‹°ì— í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ í• ë‹¹í•œë‹¤.
    // sayHi í”„ë¡œí¼í‹°ëŠ” ì¸ìŠ¤í„´ìŠ¤ í”„ë¡œí¼í‹°ì´ë‹¤.
    this.sayHi = () => console.log(`Hi ${this.name}`);
  }
}
```

#### 26-46

```javascript
// Good
class Person {
  // í´ë˜ìŠ¤ í•„ë“œ ì •ì˜
  name = "Lee";

  sayHi() {
    console.log(`Hi ${this.name}`);
  }
}
const person = new Person();
person.sayHi(); // Hi Lee
```

### 26.3.4 super

#### 26-47

```javascript
class Base {
  constructor(name) {
    this.name = name;
  }

  sayHi() {
    return `Hi! ${this.name}`;
  }
}

class Derived extends Base {
  // í™”ì‚´í‘œ í•¨ìˆ˜ì˜ superëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ constructorì˜ superë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  sayHi = () => `${super.sayHi()} how are you doing?`;
}

const derived = new Derived("Lee");
console.log(derived.sayHi()); // Hi! Lee how are you doing?
```

### 26.3.5 arguments

#### 26-48

```javascript
(function () {
  // í™”ì‚´í‘œ í•¨ìˆ˜ fooì˜ argumentsëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ì˜ argumentsë¥¼ ê°€ë¦¬í‚¨ë‹¤.
  const foo = () => console.log(arguments); // [Arguments] { '0': 1, '1': 2 }
  foo(3, 4);
})(1, 2);

// í™”ì‚´í‘œ í•¨ìˆ˜ fooì˜ argumentsëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì¸ ì „ì—­ì˜ argumentsë¥¼ ê°€ë¦¬í‚¨ë‹¤.
// í•˜ì§€ë§Œ ì „ì—­ì—ëŠ” arguments ê°ì²´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. arguments ê°ì²´ëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œë§Œ ìœ íš¨í•˜ë‹¤.
const foo = () => console.log(arguments);
foo(1, 2); // ReferenceError: arguments is not defined
```

## 26.4 Rest íŒŒë¼ë¯¸í„°

### 26.4.1 ê¸°ë³¸ ë¬¸ë²•

**Rest íŒŒë¼ë¯¸í„°ëŠ” í•¨ìˆ˜ì— ì „ë‹¬ëœ ì¸ìˆ˜ë“¤ì˜ ëª©ë¡ì„ ë°°ì—´ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.**

#### 26-49

```javascript
function foo(...rest) {
  // ë§¤ê°œë³€ìˆ˜ restëŠ” ì¸ìˆ˜ë“¤ì˜ ëª©ë¡ì„ ë°°ì—´ë¡œ ì „ë‹¬ë°›ëŠ” Rest íŒŒë¼ë¯¸í„°ë‹¤.
  console.log(rest); // [ 1, 2, 3, 4, 5 ]
}

foo(1, 2, 3, 4, 5);
```

#### 26-50

```javascript
function foo(param, ...rest) {
  console.log(param); // 1
  console.log(rest); // [ 2, 3, 4, 5 ]
}

foo(1, 2, 3, 4, 5);

function bar(param1, param2, ...rest) {
  console.log(param1); // 1
  console.log(param2); // 2
  console.log(rest); // [ 3, 4, 5 ]
}

bar(1, 2, 3, 4, 5);
```

#### 26-51

```javascript
function foo(...rest, param1, param2) { }

foo(1, 2, 3, 4, 5);
// SyntaxError: Rest parameter must be last formal parameter
```

#### 26-52

```javascript
function foo(...rest1, ...rest2) { }

foo(1, 2, 3, 4, 5);
// SyntaxError: Rest parameter must be last formal parameter
```

#### 26-53

```javascript
function foo(...rest) {}
console.log(foo.length); // 0

function bar(x, ...rest) {}
console.log(bar.length); // 1

function baz(x, y, ...rest) {}
console.log(baz.length); // 2
```

### 26.4.2 Rest íŒŒë¼ë¯¸í„°ì™€ arguments ê°ì²´

#### 26-54

```javascript
// ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ë¥¼ ì‚¬ì „ì— ì•Œ ìˆ˜ ì—†ëŠ” ê°€ë³€ ì¸ì í•¨ìˆ˜
function sum() {
  // ê°€ë³€ ì¸ì í•¨ìˆ˜ëŠ” arguments ê°ì²´ë¥¼ í†µí•´ ì¸ìˆ˜ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.
  console.log(arguments);
}

sum(1, 2); // {length: 2, '0': 1, '1': 2}
```

#### 26-55

```javascript
function sum() {
  // ìœ ì‚¬ ë°°ì—´ ê°ì²´ì¸ arguments ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë³€í™˜í•œë‹¤.
  var array = Array.prototype.slice.call(arguments);

  return array.reduce(function (pre, cur) {
    return pre + cur;
  }, 0);
}

console.log(sum(1, 2, 3, 4, 5)); // 15
```

#### 26-56

```javascript
function sum(...args) {
  // Rest íŒŒë¼ë¯¸í„° argsì—ëŠ” ë°°ì—´ [1, 2, 3, 4, 5]ê°€ í• ë‹¹ëœë‹¤.
  return args.reduce((pre, cur) => pre + cur, 0);
}
console.log(sum(1, 2, 3, 4, 5)); // 15
```

## 26.5 ë§¤ê°œë³€ìˆ˜ ê¸°ë³¸ê°’

#### 26-57

```javascript
function sum(x, y) {
  return x + y;
}

console.log(sum(1)); // NaN
```

#### 26-58

```javascript
function sum(x, y) {
  // ì¸ìˆ˜ê°€ ì „ë‹¬ë˜ì§€ ì•Šì•„ ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì´ undefinedì¸ ê²½ìš° ê¸°ë³¸ê°’ì„ í• ë‹¹í•œë‹¤.
  x = x || 0;
  y = y || 0;

  return x + y;
}

console.log(sum(1, 2)); // 3
console.log(sum(1)); // 1
```

#### 26-59

```javascript
function sum(x = 0, y = 0) {
  return x + y;
}

console.log(sum(1, 2)); // 3
console.log(sum(1)); // 1
```

#### 26-60

```javascript
function logName(name = "Lee") {
  console.log(name);
}

logName(); // Lee
logName(undefined); // Lee
logName(null); // null
```

#### 26-61

```javascript
function foo(...rest = []) {
  console.log(rest);
}
// SyntaxError: Rest parameter may not have a default initializer
```

#### 26-62

```javascript
function sum(x, y = 0) {
  console.log(arguments);
}

console.log(sum.length); // 1

sum(1); // Arguments { '0': 1 }
sum(1, 2); // Arguments { '0': 1, '1': 2 }
```
